{% extends "index.html" %}

{% block title %}상품 전체 조회{% endblock %}

{% block content %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/feature-list.css') }}">

  <h4 id="totalCount">
    전체 상품 조회 결과: <span class="count-number">{{ products|length }}</span>개
  </h4>

  <div class="product-grid" id="productContainer">
    {% for p in products %}
      <div class="product-card" data-id="{{loop.index}}">
        <img src="{{ p.image }}" alt="{{ p.name }}">
        <p><strong>{{ p.name }}</strong></p>
        <p>₩{{ "{:,}".format(p.price) }}</p>
        <div class="product-buttons">
            <a href="/product/{{ p.id if p.id else loop.index }}" class="detail-btn">상세 페이지</a>
            <button class="wishlist-btn wished" 
                onclick="toggleWishlist('{{ p.id if p.id else loop.index }}', this)">
          <img src="{{ url_for('static', filename='img/heart-fill.svg') }}" alt="찜">
        </button>
        </div>
      </div>
    {% endfor %}
  </div>
  <script src="{{ url_for('static', filename='js/wishlist.js') }}"></script>

{% endblock %}
