{% extends "index.html" %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/review.css') }}">
<div class="register-form-container">
  <h1>
    <리뷰 작성란>
  </h1>
  <form id="review-form" action="{{ url_for('review_register') }}" method="POST" enctype="multipart/form-data">

    <div class="form-group-row">
      <div class="form-group id-group">
        <label for="review-id">아이디 (작성자):</label>
        <input type="text" id="review-id-input" name="review-id" required>
      </div>

      <div class="form-group photo-upload-group">
        <label for="review-photo" class="photo-label">사진:</label>
        <input type="file" id="review-photo" name="photo" accept="image/*" onchange="previewImage(event)"
          style="display: none;">

        <button type="button" class="file-upload-btn" onclick="document.getElementById('review-photo').click()">파일
          선택</button>
        <div id="preview-container" style="display: inline-block; margin-left: 15px;">
          <img id="image-preview" src="" alt="미리보기"
            style="display: none; width: 60px; height: 60px; object-fit: cover; border-radius: 4px; border: 1px solid #ccc;">
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="review-product-name">상품명:</label>
      <input type="text" id="review-product-name" name="product_name" required>
    </div>

    <div class="form-group">
      <label for="review-title">리뷰 제목:</label>
      <input type="text" id="review-title" name="title" required>
    </div>

    <div class="form-group rating-group">
      <label>별점을 매겨주세요:</label>
      <div>
        <span class="star-btn" data-rating="1" onclick="setRating(1)">★</span>
        <span class="star-btn" data-rating="2" onclick="setRating(2)">★</span>
        <span class="star-btn" data-rating="3" onclick="setRating(3)">★</span>
        <span class="star-btn" data-rating="4" onclick="setRating(4)">★</span>
        <span class="star-btn" data-rating="5" onclick="setRating(5)">★</span>

        <input type="hidden" id="review-rating-value" name="rating" value="0">
      </div>
    </div>

    <p class="content-label">만족했던 점, 아쉬웠던 점 등을 담은 한줄평을 써주세요♡:</p>
    <div class="textarea-group">
      <textarea id="review-content" name="content" rows="6" required></textarea>
    </div>

    <div class="submit-area">
      <button type="submit" class="submit-btn">제출!!</button>
    </div>

    <p class="submit-note">리뷰 작성 완료 시 제출 버튼을 눌러주세요!</p>
  </form>
</div>

<script src="{{ url_for('static', filename='js/review-register.js') }}"></script>
{% endblock content %}